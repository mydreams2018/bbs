<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="编程技术">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>编程技术</title>
    <link rel="stylesheet" href="/css/bootstarp/bootstrap.min.css" >
    <link href="/css/album.css" rel="stylesheet">
    <script src="/js/jquery-3.4.0.min.js"></script>
    <script src="/js/popper.min.js"></script>
    <script src="/js/bootstrap.min.js" ></script>
    <script type="text/javascript">
        var accept_agreement = 0;
        function setAgreement() {
            $('#exampleModalScrollable').modal('hide');
            accept_agreement=1;
            setTimeout(check,'600');
        };
        function check(){
            if(accept_agreement!=1){
                $('#exampleModalScrollable').modal('show');
                return ;
            }
            var pw1 = $("#inputPassword").val();
            var pw2 = $("#PasswordRepeat").val();
            var account = $("#inputAccount").val();
            if(pw1.length < 6 || pw2.length < 6 || account.length < 6 ){
                alert("用户-密码长度不能小于6");
                return ;
            }
            if(pw1 != pw2){
                alert("二次密码不一致");
                return ;
            }
            ajaxSend();
        };
        function ajaxSend() {
            var form = $("#register_user");
            $.ajax({
                url: form.attr("action"),
                type: form.attr("method"),
                data: form.serialize(),
                dataType: "json",
                success: function (data) {
                    if(data.result){
                        window.location.replace("/index");
                    }else{
                        alert(data.message);
                    }
                }
            });
        };
        function flushImg(obj) {
            obj.src = "/image?time="+Math.random();
        };
    </script>
</head>
<body>

<header class="sticky-top">
    <div class="collapse bg-dark" id="navbarHeader">
        <div class="container">
            <div class="row">
                <div class="col-sm-8 col-md-7 py-4">
                    <h4 class="text-white">About</h4>
                    <p class="text-muted">编程技术是一个技术性论坛,设立的初衷是提供一个供程序员、技术爱好者、教师和学生探讨技术的平台
                        如果侵犯了你的权益请email或QQ联系管理员以及相关作者，我们会在最短的时间内进行处理。同时论坛提醒所有引用他人资源时注明原作者与来源</p>
                </div>
                <div class="col-sm-4 offset-md-1 py-4">
                    <h4 class="text-white">Contact</h4>
                    <ul class="list-unstyled">
                        <li><a href="/register.html" class="text-white">注册</a></li>
                        <li><a href="/index" class="text-white">登录</a></li>
                        <li><a href="/clearAll" class="text-white">登出</a></li>
                        <li><a href="/home.html" class="text-white">首页</a></li>
                        <li><a href="/address.html" class="text-white">联系我们</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="navbar navbar-dark bg-dark box-shadow">
        <div class="container d-flex justify-content-between">
            <a href="/self/list" class="navbar-brand d-flex align-items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle></svg>
                <strong>个人中心</strong>
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarHeader" aria-controls="navbarHeader" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </div>
</header>

<div class="container-fluid">
    <div class="row justify-content-center">
        <div class="col-md-3">
            <form action="/register" method="post" id="register_user">
                <div class="form-group">
                    <label for="inputAccount">Account</label>
                    <input type="text" id="inputAccount" name="account" class="form-control" placeholder="Account" required autofocus>
                </div>

                <div class="form-group">
                    <label for="inputPassword">Password</label>
                    <input type="password" id="inputPassword" name="password" class="form-control" placeholder="Password" required>
                </div>

                <div class="form-group">
                    <label for="PasswordRepeat">Password repeat</label>
                    <input type="password" id="PasswordRepeat" class="form-control" placeholder="PasswordRepeat" required>
                </div>

                <div class="form-group">
                    <label for="inputImageCode">code</label>
                    <input type="text" id="inputImageCode" name="img-code" class="form-control" placeholder="img-code" required>
                </div>

                <div class="form-group">
                    <img src="/image" onclick="flushImg(this)" alt="鲲" id="image_flush" class="img-fluid">
                </div>

                <button class="btn btn-lg btn-primary btn-block" type="button" onclick="check()">Register in</button>
                <p class="mt-3 text-center"><a href="/home.html">&copy; 首页</a></p>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="exampleModalScrollable" tabindex="-1" role="dialog" aria-labelledby="exampleModalScrollableTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalScrollableTitle">警告:</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                欢迎您加入编程技术参加交流和讨论,为维护网上公共秩序和社会稳定,请您自觉遵守以下条款：<br>
                　　一、不得利用本站危害国家安全、泄露国家秘密，不得侵犯国家社会集体的和公民的合法权益，不得利用本站制			作、复制和传播下列信息：
                　　（一）煽动抗拒、破坏宪法和法律、行政法规实施的；
                　　（二）煽动颠覆国家政权，推翻社会主义制度的；
                　　（三）煽动分裂国家、破坏国家统一的；
                　　（四）煽动民族仇恨、民族歧视，破坏民族团结的；
                　　（五）捏造或者歪曲事实，散布谣言，扰乱社会秩序的；
                　　（六）宣扬封建迷信、淫秽、色情、赌博、暴力、凶杀、恐怖、教唆犯罪的；
                　　（七）公然侮辱他人或者捏造事实诽谤他人的，或者进行其他恶意攻击的；
                　　（八）损害国家机关信誉的；
                　　（九）其他违反宪法和法律行政法规的；<br>
                　　二、编程技术删帖、锁帖等各类处罚规则：
                　　（一）对于有违国家相关法律、法规或是道德准则的帖子，挑衅广大网民感情的，蓄意造谣的予以删除。
                　　（二）对于恶意损害侮辱国家尊严的，恶意挑衅网友攻击情绪的，使用低俗语言的帖子将全部删除，情节严重者			封锁其ID。
                　　（三）对于使用污秽ID呢称、或存有争议的ID所发出的帖子将全部删除，并且封锁其ID。
                　　（四）对于含有人身攻击，恶意攻击侮辱网友的帖子，予以删除。
                　　（五）对于引起网友长时间争吵的帖子，或是有引发大家谩骂攻击的帖子，为了维护版面的和平以及网友间的友谊，予以删除。
                　　（六）对于多次重发的帖子，无论是否出自同一网友，予以删除，敬请见谅。
                　　（七）对于恶意灌水的帖子将会被删除。
                　　（八）对于严重违反本版规定的网友（如刷版、肆意谩骂、挑动网友情绪等）首先予以警告；若不听劝阻继续违规，版主将封锁其ID，如果情节特别严重的，版主有权在无事先警告的前提下即刻删除其所有发表在本论坛中的帖子。
                　　（十）一些文章本身没有什么恶意，但是却无意间引起网友们的违规行为，并且发帖人也参与其中的，此类帖子一律被锁。
                　　（十一）对于那些与版面主题无关，却无恶意的帖子，视情况予以转移或删除。
                　　（十二）对于网友主动提出要求删除自己的帖子，将被删除。
                　　（十三）对于某些网友严重违反国家法律，发表不良信息，泄露有关机密，引发社会不安定的行为，除删除贴子			封锁其ID外，将上交公安机关处理。
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">拒绝:</button>
                <button type="button" onclick="setAgreement()" class="btn btn-primary">同意:</button>
            </div>
        </div>
    </div>
</div>

</body>
</html>