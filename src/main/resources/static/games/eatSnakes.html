<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>贪吃蛇</title>
    <script type="text/javascript" src="snakes/snake.js"></script>
    <script type="text/javascript">
        window.addEventListener("load",function (event) {
            myCanvas = document.getElementById("drawGames");
            canvas2d = myCanvas.getContext("2d");
            myCanvas.setAttribute("width",document.body.clientWidth*0.6);
            myCanvas.setAttribute("height",600);
            myCanvas.style.backgroundColor="white";
            myCanvas.style.border="3px solid red";
            myCanvas.style.marginLeft=Math.floor(document.body.clientWidth*0.2)+"px";
            initDataSnake();
            dataWidth = myCanvas.width / dataRect[0].length;
            dataHeight = myCanvas.height / dataRect.length;
            setInterval(loopFoods,3000);
            timeRun = setInterval(loopDatas,600);
        },true);
        //窗体大小改变事件
        window.onresize=function(event) {
            myCanvas.setAttribute("width",document.body.clientWidth*0.6);
            myCanvas.style.marginLeft=Math.floor(document.body.clientWidth*0.2)+"px";
            dataWidth = myCanvas.width / dataRect[0].length;
        };
        window.onkeydown = function(event){
            switch (event.key) {
                case "w":
                    if(direction != 5){
                        direction = 3;
                    }
                    break;
                case "s":
                    if(direction != 3){
                        direction = 5;
                    }
                    break;
                case "a":
                    if(direction != 2){
                        direction = 1;
                    }
                    break;
                case "d":
                    if(direction != 1){
                        direction = 2;
                    }
                    break;
            }
        };
    </script>
</head>
<body>
<canvas id="drawGames">
    浏览器不支持canvas
</canvas>
<audio src="snakes/snakeEat.mp3" id="snakesMp3">
    您的浏览器不支持 audio 标签
</audio>
</body>
</html>